{"ast":null,"code":"import { MatTableDataSource } from '@angular/material/table';\nimport { MatSort } from '@angular/material/sort';\nimport { MatPaginator } from '@angular/material/paginator';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/network.service\";\nimport * as i2 from \"@angular/material/card\";\nimport * as i3 from \"@angular/material/form-field\";\nimport * as i4 from \"@angular/material/input\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/router\";\nimport * as i10 from \"@angular/material/table\";\nimport * as i11 from \"@angular/material/sort\";\nimport * as i12 from \"@angular/material/paginator\";\nfunction StockHomeComponent_mat_icon_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\", 33);\n    i0.ɵɵtext(1, \"search\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StockHomeComponent_button_32_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 34);\n    i0.ɵɵlistener(\"click\", function StockHomeComponent_button_32_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.clearSearch();\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"close\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction StockHomeComponent_th_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 35);\n    i0.ɵɵtext(1, \" Image \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StockHomeComponent_td_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 36)(1, \"div\", 37);\n    i0.ɵɵelement(2, \"img\", 38);\n    i0.ɵɵelementStart(3, \"div\", 39);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const data_r16 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", data_r16.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", data_r16.id, \" \");\n  }\n}\nfunction StockHomeComponent_th_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 40);\n    i0.ɵɵtext(1, \" Name \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StockHomeComponent_td_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 41);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r17 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", data_r17.name, \" \");\n  }\n}\nfunction StockHomeComponent_th_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 42);\n    i0.ɵɵtext(1, \" Price \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StockHomeComponent_td_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 43);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, data_r18.price, \"1.2-2\"), \" \");\n  }\n}\nfunction StockHomeComponent_th_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 44);\n    i0.ɵɵtext(1, \" Stock \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StockHomeComponent_td_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 45);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r19 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, data_r19.stock), \" \");\n  }\n}\nfunction StockHomeComponent_th_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 35);\n    i0.ɵɵtext(1, \" Action \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/stock/edit\", a1];\n};\nfunction StockHomeComponent_td_53_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 45)(1, \"button\", 46)(2, \"mat-icon\", 47);\n    i0.ɵɵtext(3, \"edit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function StockHomeComponent_td_53_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const data_r20 = restoredCtx.$implicit;\n      const ctx_r21 = i0.ɵɵnextContext();\n      return ctx_r21.onClickDeleteProduct(data_r20);\n    });\n    i0.ɵɵelementStart(5, \"mat-icon\");\n    i0.ɵɵtext(6, \"delete_outline\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const data_r20 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(1, _c0, data_r20.id));\n  }\n}\nfunction StockHomeComponent_tr_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 49);\n  }\n}\nfunction StockHomeComponent_tr_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 50);\n  }\n}\nconst _c1 = function () {\n  return [\"/stock/create\"];\n};\nconst _c2 = function () {\n  return [5, 10, 25, 100];\n};\nexport let StockHomeComponent = /*#__PURE__*/(() => {\n  class StockHomeComponent {\n    constructor(networkService) {\n      this.networkService = networkService;\n      this.displayedColumns = ['image', 'name', 'price', 'stock', 'action'];\n      this.dataSource = new MatTableDataSource();\n    }\n    ngOnInit() {\n      this.dataSource.sort = this.sort;\n      this.dataSource.paginator = this.paginator;\n      this.feedData();\n    }\n    feedData() {\n      this.networkService.getProducts().subscribe(data => {\n        this.dataSource.data = data.map(item => {\n          item.image = this.networkService.getProductImageURL(item.image);\n          return item;\n        });\n      }, error => {\n        console.log(JSON.stringify(error.error.message));\n      }, () => {\n        console.log(\"feed network done\");\n      });\n    }\n    search(event) {\n      let fliterValue = '';\n      if (event) {\n        fliterValue = event.target.value;\n      }\n      this.dataSource.filter = fliterValue.trim().toLowerCase();\n    }\n    clearSearch() {\n      this.textSearch = '';\n      this.search(null);\n    }\n    onClickDeleteProduct(product) {\n      Swal.fire({\n        title: 'Are you sure?',\n        text: `Delete Product: ${product.name}`,\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Yes, delete it!'\n      }).then(result => {\n        if (result.value) {\n          this.networkService.deleteProduct(product.id).subscribe(data => {\n            this.feedData();\n          }, error => {\n            console.log(JSON.stringify(error.error.message));\n          });\n        }\n      });\n    }\n  }\n  StockHomeComponent.ɵfac = function StockHomeComponent_Factory(t) {\n    return new (t || StockHomeComponent)(i0.ɵɵdirectiveInject(i1.NetworkService));\n  };\n  StockHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: StockHomeComponent,\n    selectors: [[\"app-stock-home\"]],\n    viewQuery: function StockHomeComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatSort, 7);\n        i0.ɵɵviewQuery(MatPaginator, 7);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n      }\n    },\n    decls: 57,\n    vars: 11,\n    consts: [[1, \"row\"], [1, \"col-md-4\"], [1, \"d-flex\", \"align-items-center\"], [\"src\", \"https://codemobiles.com/biz/images/angular/ic_summary_stock.svg\", \"alt\", \"\", 1, \"icon\", \"me-3\"], [1, \"d-flex\", \"flex-column\"], [1, \"h6\", \"mb-0\"], [\"src\", \"https://codemobiles.com/biz/images/angular/ic_summary_defect.svg\", \"alt\", \"\", 1, \"icon\", \"me-3\"], [\"src\", \"https://codemobiles.com/biz/images/angular/ic_summary_out_of_stock.svg\", \"alt\", \"\", 1, \"icon\", \"me-3\"], [1, \"mat-elevation-z8\", \"mt-3\", \"table-responsive\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"p-3\", \"search_form\"], [\"appearance\", \"outline\", 1, \"w-50\"], [\"matInput\", \"\", \"placeholder\", \"name, price, stock\", 3, \"ngModel\", \"ngModelChange\", \"keyup\"], [\"matSuffix\", \"\", 4, \"ngIf\"], [\"mat-icon-button\", \"\", \"matSuffix\", \"\", 3, \"click\", 4, \"ngIf\"], [\"mat-flat-button\", \"\", \"color\", \"primary\", 3, \"routerLink\"], [1, \"table-responsive\"], [\"mat-table\", \"\", \"matSort\", \"\", 1, \"w-100\", \"table-striped\", \"table-hover\", 3, \"dataSource\"], [\"matColumnDef\", \"image\"], [\"mat-header-cell\", \"\", \"class\", \"text-uppercase text-center\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"name\"], [\"mat-sort-header\", \"\", \"mat-header-cell\", \"\", \"class\", \"text-uppercase\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", \"class\", \"text-truncate\", 4, \"matCellDef\"], [\"matColumnDef\", \"price\"], [\"mat-sort-header\", \"\", \"mat-header-cell\", \"\", \"class\", \"text-uppercase text-end\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", \"class\", \"text-end\", 4, \"matCellDef\"], [\"matColumnDef\", \"stock\"], [\"mat-sort-header\", \"\", \"mat-header-cell\", \"\", \"class\", \"text-uppercase text-center\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", \"class\", \"text-center\", 4, \"matCellDef\"], [\"matColumnDef\", \"action\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [3, \"pageSizeOptions\", \"showFirstLastButtons\"], [\"matSuffix\", \"\"], [\"mat-icon-button\", \"\", \"matSuffix\", \"\", 3, \"click\"], [\"mat-header-cell\", \"\", 1, \"text-uppercase\", \"text-center\"], [\"mat-cell\", \"\"], [1, \"over-lay\", \"mx-auto\", \"d-block\", \"border-top\", \"border-left\", \"border-right\", \"rounded-top\"], [\"alt\", \"\", 1, \"w-100\", \"bg-light\", \"rounded-top\", 3, \"src\"], [1, \"over-lay-text\", \"text-center\", \"mat-small\"], [\"mat-sort-header\", \"\", \"mat-header-cell\", \"\", 1, \"text-uppercase\"], [\"mat-cell\", \"\", 1, \"text-truncate\"], [\"mat-sort-header\", \"\", \"mat-header-cell\", \"\", 1, \"text-uppercase\", \"text-end\"], [\"mat-cell\", \"\", 1, \"text-end\"], [\"mat-sort-header\", \"\", \"mat-header-cell\", \"\", 1, \"text-uppercase\", \"text-center\"], [\"mat-cell\", \"\", 1, \"text-center\"], [\"mat-icon-button\", \"\", 3, \"routerLink\"], [1, \"material-icons-outlined\"], [\"mat-icon-button\", \"\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n    template: function StockHomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"mat-card\", 2);\n        i0.ɵɵelement(3, \"img\", 3);\n        i0.ɵɵelementStart(4, \"div\", 4)(5, \"div\", 5);\n        i0.ɵɵtext(6, \"Stock\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 5);\n        i0.ɵɵtext(8, \"0\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(9, \"div\", 1)(10, \"mat-card\", 2);\n        i0.ɵɵelement(11, \"img\", 6);\n        i0.ɵɵelementStart(12, \"div\", 4)(13, \"div\", 5);\n        i0.ɵɵtext(14, \"Defect\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 5);\n        i0.ɵɵtext(16, \"0\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(17, \"div\", 1)(18, \"mat-card\", 2);\n        i0.ɵɵelement(19, \"img\", 7);\n        i0.ɵɵelementStart(20, \"div\", 4)(21, \"div\", 5);\n        i0.ɵɵtext(22, \"Out of stock\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 5);\n        i0.ɵɵtext(24, \"0\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(25, \"div\", 8)(26, \"div\", 9)(27, \"mat-form-field\", 10)(28, \"mat-label\");\n        i0.ɵɵtext(29, \"Search products\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function StockHomeComponent_Template_input_ngModelChange_30_listener($event) {\n          return ctx.textSearch = $event;\n        })(\"keyup\", function StockHomeComponent_Template_input_keyup_30_listener($event) {\n          return ctx.search($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(31, StockHomeComponent_mat_icon_31_Template, 2, 0, \"mat-icon\", 12);\n        i0.ɵɵtemplate(32, StockHomeComponent_button_32_Template, 3, 0, \"button\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"button\", 14)(34, \"mat-icon\");\n        i0.ɵɵtext(35, \"add\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(36, \" New Product \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(37, \"div\", 15)(38, \"table\", 16);\n        i0.ɵɵelementContainerStart(39, 17);\n        i0.ɵɵtemplate(40, StockHomeComponent_th_40_Template, 2, 0, \"th\", 18);\n        i0.ɵɵtemplate(41, StockHomeComponent_td_41_Template, 5, 2, \"td\", 19);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(42, 20);\n        i0.ɵɵtemplate(43, StockHomeComponent_th_43_Template, 2, 0, \"th\", 21);\n        i0.ɵɵtemplate(44, StockHomeComponent_td_44_Template, 2, 1, \"td\", 22);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(45, 23);\n        i0.ɵɵtemplate(46, StockHomeComponent_th_46_Template, 2, 0, \"th\", 24);\n        i0.ɵɵtemplate(47, StockHomeComponent_td_47_Template, 3, 4, \"td\", 25);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(48, 26);\n        i0.ɵɵtemplate(49, StockHomeComponent_th_49_Template, 2, 0, \"th\", 27);\n        i0.ɵɵtemplate(50, StockHomeComponent_td_50_Template, 3, 3, \"td\", 28);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(51, 29);\n        i0.ɵɵtemplate(52, StockHomeComponent_th_52_Template, 2, 0, \"th\", 18);\n        i0.ɵɵtemplate(53, StockHomeComponent_td_53_Template, 7, 3, \"td\", 28);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(54, StockHomeComponent_tr_54_Template, 1, 0, \"tr\", 30);\n        i0.ɵɵtemplate(55, StockHomeComponent_tr_55_Template, 1, 0, \"tr\", 31);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(56, \"mat-paginator\", 32);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(30);\n        i0.ɵɵproperty(\"ngModel\", ctx.textSearch);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.textSearch);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.textSearch);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(9, _c1));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"pageSizeOptions\", i0.ɵɵpureFunction0(10, _c2))(\"showFirstLastButtons\", true);\n      }\n    },\n    directives: [i2.MatCard, i3.MatFormField, i3.MatLabel, i4.MatInput, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel, i6.NgIf, i7.MatIcon, i3.MatSuffix, i8.MatButton, i9.RouterLink, i10.MatTable, i11.MatSort, i10.MatColumnDef, i10.MatHeaderCellDef, i10.MatHeaderCell, i10.MatCellDef, i10.MatCell, i11.MatSortHeader, i10.MatHeaderRowDef, i10.MatHeaderRow, i10.MatRowDef, i10.MatRow, i12.MatPaginator],\n    pipes: [i6.DecimalPipe],\n    styles: [\".icon[_ngcontent-%COMP%]{height:3.5rem;width:3.5rem}th.mat-column-image[_ngcontent-%COMP%], td.mat-column-image[_ngcontent-%COMP%]{width:180px}th.mat-column-name[_ngcontent-%COMP%], td.mat-column-name[_ngcontent-%COMP%]{max-width:150px}th.mat-column-action[_ngcontent-%COMP%], td.mat-column-action[_ngcontent-%COMP%]{width:150px}.over-lay[_ngcontent-%COMP%]{position:relative;width:80px}.over-lay[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:80px;-o-object-fit:cover;object-fit:cover}.over-lay-text[_ngcontent-%COMP%]{background-color:#000;position:absolute;bottom:0;left:0;color:#fff;opacity:.7;width:100%}td.mat-cell[_ngcontent-%COMP%]{padding:8px 0}.table-hover[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#eae38e70}  th.mat-column-price>.mat-sort-header-container{justify-content:flex-end}  th.mat-column-stock>.mat-sort-header-container{justify-content:center}  .mat-sort-header-arrow,   .mat-sort-header-sorted{color:#39d4a1}@media (max-width: 600px){th.mat-header-cell[_ngcontent-%COMP%]:nth-child(2){min-width:400px}th.mat-header-cell[_ngcontent-%COMP%]:nth-child(2), td.mat-cell[_ngcontent-%COMP%]:nth-child(2), th.mat-header-cell[_ngcontent-%COMP%]:nth-child(3), th.mat-header-cell[_ngcontent-%COMP%]:nth-child(4){padding:0 12px}.search_form[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch!important;margin:12px 0}.search_form[_ngcontent-%COMP%] > .mat-form-field[_ngcontent-%COMP%]{width:100%!important;margin-bottom:12px}}\"]\n  });\n  return StockHomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}